(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{91:function(e,n,t){"use strict";t.d(n,"e",(function(){return c})),t.d(n,"a",(function(){return d})),t.d(n,"g",(function(){return p})),t.d(n,"f",(function(){return l})),t.d(n,"d",(function(){return w})),t.d(n,"b",(function(){return b})),t.d(n,"c",(function(){return f}));var o=t(2),s=t(9),r=t.n(s);function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSP2=!1,this.hasOpenedPuWindow=!1}var n,t,o;return n=e,(t=[{key:"open",value:function(e){this.url=e;var n=window.innerWidth-200,t=window.innerHeight-50,o="toolbar=0,statusbar=1,resizable=1,scrollbars=0,menubar=0,location=1,directories=0";-1!==navigator.userAgent.indexOf("Chrome")&&(o="scrollbar=yes");var s=window.open("about:blank","","".concat(o,",height=").concat(t,",width=").concat(n));-1!==navigator.userAgent.indexOf("rv:2.")?(s.puPop=function(e){-1!==navigator.userAgent.indexOf("rv:2.")&&this.window.open("about:blank").close(),this.document.location.href=e},s.puPop(e)):s.document.location.assign(e),setTimeout(window.focus,200),window.focus(),s?(s.window.open("about:blank").close(),s.moveTo(window.screenX+2,window.screenY+2),s.blur(),self.focus()):(window.SymRealWinOpen&&(window.open=window.SymRealWinOpen),window.NS_ActualOpen&&(window.open=window.NS_ActualOpen),this.isSP2=-1!==navigator.userAgent.indexOf("SV1"),this.isSP2?(window.Event&&document.captureEvents(Event.CLICK),document.onclick=this.doClickedPu):this.doPu(),self.focus(),this.doClickedPu())}},{key:"doPu",value:function(){this.hasOpenedPuWindow||window.open(this.url,"","toolbar=1,location=1,directories=0,status=1,menubar=1,scrollbars=1,resizable=1")&&(this.hasOpenedPuWindow=!0,self.focus())}},{key:"doClickedPu",value:function(){var e=null;this.hasOpenedPuWindow||this.isSP2||(e=window.open(this.url,"","toolbar=1,location=1,directories=0,status=1,menubar=1,scrollbars=1,resizable=1"),self.focus(),e&&(this.hasOpenedPuWindow=!0)),this.hasOpenedPuWindow||(window.Event&&document.captureEvents(Event.CLICK),document.onclick=this.doPu,self.focus())}}])&&i(n.prototype,t),o&&i(n,o),e}(),u=t(41);const c=()=>{const e=r.a.getJSON("sstkSearchPU");if(!e)return!1;const n=Date.now()-18e5;return e.lastSeen>n},d=()=>!!document.body.dataset.showPartnerPopups&&(!!Object(o.O)("istock_alt_popup_triggers_v4")&&!document.body.classList.contains("is-mobile")),p=()=>new Date((new Date).getTime()+18e5),l=()=>{const{splitTestName:e,splitTestVariant:n}=u.a;return e&&n?`-${e}-${n}`:""},w=e=>{r.a.set("sstkSearchPU",{lastSeen:Date.now()}),r.a.remove("partner_popup_pagination"),r.a.remove("partner_popup_search_views"),r.a.remove("partner_popup_show_views");(new a).open(e)},h=({baseUrl:e,subId1:n,subId3:t,searchTerm:o})=>{const s=document.body.dataset.partnerPopupDestinationUrl.replace(/{{search_term}}/g,o),i={u:encodeURIComponent(s),sharedid:window.location.hostname,subId1:`${n}${l()}`,subId2:document.body.dataset.pageviewGuid,subId3:t,adtype:r.a.get("content_type")||"vector",adplacement:"POP"};return`${e}?${Object.keys(i).map(e=>`${e}=${i[e]}`).join("&")}`},b=({searchTerm:e})=>{if(!d())return;if(c())return;const n=r.a.get("partner_popup_search_views")||0,t=parseInt(n,10)+1;if(e&&t>=4){const{impactRadiusSearchPopupUrl:n}=document.body.dataset;w(h({baseUrl:n,searchTerm:e,subId1:"SearchPopNoPricing",subId3:4}))}else r.a.set("partner_popup_search_views",t,{expires:p()})},f=(e={})=>{const{display:n=!0,searchTerm:t}=e;if(c())return;if(!d())return;const o=r.a.get("partner_popup_show_views")||0,s=parseInt(o,10)+1;if(n&&t&&s>=5){const{impactRadiusUrl:e}=document.body.dataset;w(h({baseUrl:e,searchTerm:t,subId1:"ShowPopNoPricing",subId3:5}))}else r.a.set("partner_popup_show_views",s,{expires:p()})}}}]);
//# sourceMappingURL=21-25535e043db031a42f38.chunk.js.map