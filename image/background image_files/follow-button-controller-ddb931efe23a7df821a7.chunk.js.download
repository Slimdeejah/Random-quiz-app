(window.webpackJsonp=window.webpackJsonp||[]).push([[176,8],{1390:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return p}));var r=e(13),o=e(2),u=e(6),i=e(8),c=e(49);function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,n){return(d=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function f(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=b(t);if(n){var o=b(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)}}function s(t,n){return!n||"object"!==typeof n&&"function"!==typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&d(t,n)}(b,t);var n,e,r,s=f(b);function b(){var t;a(this,b);for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=s.call.apply(s,[this].concat(e))).removeEventListeners=function(){var n=setInterval((function(){t.followEventFinished&&(t.element.removeEventListener("ajax:success",t.updateFollowStatus),t.element.removeEventListener("ajax:error",t.initiateFollowChange),clearInterval(n))}),100)},t.followAfterLogin=function(){Object(o.D)("follow_after_login",t.element.dataset.userId),Object(u.k)({data:{category:"Trigger-Contributor_Follow",action:i.lb}}),t.trackContributorFollow({target:t.element})},t.initiateFollowChange=function(){t.selectedContributorId=t.element.dataset.userId,t.contributorsDataElement=document.querySelector("[data-contributors-info]"),t.contributorsDataElement&&document.body.setAttribute("data-updating-follow-status",t.selectedContributorId),document.querySelectorAll('[data-follow-button-target="followButton"][data-user-id="'.concat(t.selectedContributorId,'"]')).forEach((function(t){t.classList.toggle("is-following"),Object(c.b)(t)}))},t.updateFollowStatus=function(){t.contributorsDataElement?(t.updateContributorsInfoElement(),t.updateFollowButtonsWithContributorsInfo()):t.simpleToggleFollowButton()},t.simpleToggleFollowButton=function(){var n=t.element.href,e=t.textWrapTarget.innerHTML;t.textWrapTarget.innerHTML=t.element.dataset.switchText,t.element.dataset.switchText=e,t.element.href=t.element.dataset.switchHref,t.element.dataset.switchHref=n,Object(c.a)(t.element)},t.updateContributorsInfoElement=function(){t.contributorsData=JSON.parse(t.contributorsDataElement.dataset.contributorsInfo),t.element.classList.remove("has-spinner");var n={follow_button_text:t.contributorsData[t.selectedContributorId].follow_button_switch_text,follow_button_switch_text:t.contributorsData[t.selectedContributorId].follow_button_text,follow_button_action:t.contributorsData[t.selectedContributorId].follow_button_switch_action,follow_button_switch_action:t.contributorsData[t.selectedContributorId].follow_button_action,follow_button_class:t.element.className};Object.assign(t.contributorsData[t.selectedContributorId],n),t.contributorsDataElement.dataset.contributorsInfo=JSON.stringify(t.contributorsData),document.body.removeAttribute("data-updating-follow-status")},t.updateFollowButtonsWithContributorsInfo=function(){document.querySelectorAll('[data-follow-button-target="followButton"][data-user-id="'.concat(t.selectedContributorId,'"]')).forEach((function(n){var e=n.querySelector(".ez-spinner--sm");n.classList.remove("has-spinner"),n.querySelector('[data-follow-button-target="textWrap"]').innerHTML=t.contributorsData[t.selectedContributorId].follow_button_text,n.switchText=t.contributorsData[t.selectedContributorId].follow_button_switch_text,n.href=t.contributorsData[t.selectedContributorId].follow_button_action,n.className=t.contributorsData[t.selectedContributorId].follow_button_class,e&&Object(c.a)(n)}))},t.trackContributorFollow=function(t){Object(u.k)({element:t.target,data:{action:i.r,category:"Contributor"}})},t}return n=b,(e=[{key:"connect",value:function(){"follow-button#followAfterLogin"!==this.element.dataset.action&&(this.element.addEventListener("ajax:success",this.updateFollowStatus),this.element.addEventListener("ajax:error",this.initiateFollowChange))}},{key:"disconnect",value:function(){this.removeEventListeners()}},{key:"followEventFinished",get:function(){return!document.body.hasAttribute("data-updating-follow-status")}},{key:"getUsername",value:function(){var t=document.querySelector(".user-profile-layout"),n=document.querySelector(".ez-resource-show__contributor");return(null===t||void 0===t?void 0:t.getAttribute("data-profile-username"))||(null===n||void 0===n?void 0:n.getAttribute("data-contributor-name"))}}])&&l(n.prototype,e),r&&l(n,r),b}(r.b);p.targets=["textWrap","followButton"]},6:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"k",(function(){return l})),e.d(n,"d",(function(){return d})),e.d(n,"e",(function(){return f})),e.d(n,"g",(function(){return b})),e.d(n,"c",(function(){return p})),e.d(n,"l",(function(){return g})),e.d(n,"i",(function(){return C})),e.d(n,"f",(function(){return m})),e.d(n,"b",(function(){return w})),e.d(n,"j",(function(){return v})),e.d(n,"h",(function(){return _}));var r=e(9),o=e.n(r),u=e(8);const i="conv-evt-trk",c='[data-conversions-category]:not([data-conversions-category=""])',a={en:"English",es:"Spanish",pt:"Portuguese",de:"German",fr:"French",nl:"Dutch",sv:"Swedish",it:"Italian"};function l({element:t=null,data:n}){const e=t||document.body,r=new CustomEvent(i,{bubbles:!0,detail:{...n}});e.dispatchEvent(r)}function d(t){const n=t.closest(c);return n?n.dataset.conversionsCategory:"Unknown"}function f(t){const n=t.closest(c);return n&&n.dataset.referringConversionsCategory?n.dataset.referringConversionsCategory:"Unknown"}function s(){const t=window.location.hostname.split(".");return`${t[1]}.${t[2]}`}function b(){return o.a.getJSON("complete_event_sources")}function p(){o.a.remove("complete_event_sources",{domain:s()})}function g({action:t,category:n,label:e="",value:r=null,valueElementSelector:u="",valueAttribute:i="",dimensions:c={},dataLayer:a,dataLayerCompleteAttrs:l}){const d=b();if(function({sources:t,action:n}){return!!t&&t.some(t=>t.action===n)}({sources:d,action:t}))return;let f={action:t,category:n};e&&(f.label=e),r&&(f.value=r),u&&(f.valueElementSelector=u),i&&(f.valueAttribute=i),c&&(f={...f,...c}),a&&(f.dataLayer=a),l&&(f.dataLayerCompleteAttrs=l);let p=[];d&&Array.isArray(d)&&(p=d),p.push(f),o.a.set("complete_event_sources",p,{domain:s()})}function C(t){return"Language-"+(a[t]?a[t]:"Unknown")}function m(){const t=document.querySelector('meta[name="analytics_data"]');return JSON.parse(t.getAttribute("content"))}function w(t={}){const n={event:u.S,...m(),...t};delete n.snowplow_collector,delete n.snowplow_app_id,window.dataLayer.push(n)}function v(t={}){window.dataLayer.push(t)}function _(){return document.body.getAttribute("data-pageview-guid")}},8:function(t,n,e){"use strict";e.d(n,"qb",(function(){return r})),e.d(n,"S",(function(){return o})),e.d(n,"X",(function(){return u})),e.d(n,"bb",(function(){return i})),e.d(n,"V",(function(){return c})),e.d(n,"W",(function(){return a})),e.d(n,"lb",(function(){return l})),e.d(n,"jb",(function(){return d})),e.d(n,"kb",(function(){return f})),e.d(n,"Vb",(function(){return s})),e.d(n,"Pb",(function(){return b})),e.d(n,"Tb",(function(){return p})),e.d(n,"A",(function(){return g})),e.d(n,"C",(function(){return C})),e.d(n,"B",(function(){return m})),e.d(n,"D",(function(){return w})),e.d(n,"yb",(function(){return v})),e.d(n,"zb",(function(){return _})),e.d(n,"Ab",(function(){return h})),e.d(n,"H",(function(){return y})),e.d(n,"cc",(function(){return k})),e.d(n,"cb",(function(){return S})),e.d(n,"ib",(function(){return P})),e.d(n,"gb",(function(){return T})),e.d(n,"hb",(function(){return E})),e.d(n,"ac",(function(){return L})),e.d(n,"lc",(function(){return I})),e.d(n,"M",(function(){return D})),e.d(n,"E",(function(){return R})),e.d(n,"ab",(function(){return B})),e.d(n,"Y",(function(){return F})),e.d(n,"Z",(function(){return x})),e.d(n,"dc",(function(){return O})),e.d(n,"xb",(function(){return A})),e.d(n,"db",(function(){return j})),e.d(n,"fb",(function(){return U})),e.d(n,"eb",(function(){return M})),e.d(n,"q",(function(){return J})),e.d(n,"r",(function(){return N})),e.d(n,"p",(function(){return q})),e.d(n,"y",(function(){return H})),e.d(n,"z",(function(){return W})),e.d(n,"O",(function(){return G})),e.d(n,"N",(function(){return z})),e.d(n,"rb",(function(){return V})),e.d(n,"n",(function(){return K})),e.d(n,"o",(function(){return Y})),e.d(n,"m",(function(){return Z})),e.d(n,"l",(function(){return Q})),e.d(n,"R",(function(){return X})),e.d(n,"P",(function(){return $})),e.d(n,"Q",(function(){return tt})),e.d(n,"vb",(function(){return nt})),e.d(n,"ub",(function(){return et})),e.d(n,"tb",(function(){return rt})),e.d(n,"sb",(function(){return ot})),e.d(n,"wb",(function(){return ut})),e.d(n,"ob",(function(){return it})),e.d(n,"pb",(function(){return ct})),e.d(n,"Wb",(function(){return at})),e.d(n,"Xb",(function(){return lt})),e.d(n,"Yb",(function(){return dt})),e.d(n,"Zb",(function(){return ft})),e.d(n,"b",(function(){return st})),e.d(n,"g",(function(){return bt})),e.d(n,"f",(function(){return pt})),e.d(n,"c",(function(){return gt})),e.d(n,"e",(function(){return Ct})),e.d(n,"d",(function(){return mt})),e.d(n,"nb",(function(){return wt})),e.d(n,"mb",(function(){return vt})),e.d(n,"Cb",(function(){return _t})),e.d(n,"Bb",(function(){return ht})),e.d(n,"Gb",(function(){return yt})),e.d(n,"Db",(function(){return kt})),e.d(n,"Fb",(function(){return St})),e.d(n,"Eb",(function(){return Pt})),e.d(n,"Hb",(function(){return Tt})),e.d(n,"Lb",(function(){return Et})),e.d(n,"Nb",(function(){return Lt})),e.d(n,"Mb",(function(){return It})),e.d(n,"Ib",(function(){return Dt})),e.d(n,"Kb",(function(){return Rt})),e.d(n,"Jb",(function(){return Bt})),e.d(n,"fc",(function(){return Ft})),e.d(n,"ec",(function(){return xt})),e.d(n,"kc",(function(){return Ot})),e.d(n,"gc",(function(){return At})),e.d(n,"ic",(function(){return jt})),e.d(n,"jc",(function(){return Ut})),e.d(n,"hc",(function(){return Mt})),e.d(n,"i",(function(){return Jt})),e.d(n,"h",(function(){return Nt})),e.d(n,"a",(function(){return qt})),e.d(n,"u",(function(){return Ht})),e.d(n,"t",(function(){return Wt})),e.d(n,"s",(function(){return Gt})),e.d(n,"bc",(function(){return zt})),e.d(n,"Ub",(function(){return Vt})),e.d(n,"I",(function(){return Kt})),e.d(n,"J",(function(){return Yt})),e.d(n,"K",(function(){return Zt})),e.d(n,"L",(function(){return Qt})),e.d(n,"F",(function(){return Xt})),e.d(n,"G",(function(){return $t})),e.d(n,"x",(function(){return tn})),e.d(n,"v",(function(){return nn})),e.d(n,"w",(function(){return en})),e.d(n,"Qb",(function(){return rn})),e.d(n,"Rb",(function(){return on})),e.d(n,"Sb",(function(){return un})),e.d(n,"U",(function(){return cn})),e.d(n,"T",(function(){return an})),e.d(n,"Ob",(function(){return ln})),e.d(n,"k",(function(){return dn})),e.d(n,"j",(function(){return fn}));const r="page_view",o="gtm:datalayer",u="Join_Login (Triggered)",i="Join (Triggered)",c="Join (Click)",a="Join (Complete)",l="Login (Triggered)",d="Login (Click)",f="Login (Complete)",s="Search-Manual (Click)",b="Search-Autosuggestion (Click)",p="Search-Return (Complete)",g="begin_checkout",C="purchase",m="add_to_cart",w="view_item_list",v="Purchase (Click)",_="Purchase (Complete)",h="Purchase (Error)",y="Explore (Click)",k="Trending (Click)",S="Keyword (Click)",P="Locale (Triggered)",T="Locale (Click)",E="Locale (Complete)",L="Social_Share (Click)",I="Zoom (Click)",D="Favorite (Click)",R="Editor (Click)",B="Join_Pro (Triggered)",F="Join_Pro (Click)",x="Join_Pro (Complete)",O="Trial-Upgrade (Triggered)",A="Popular_Searches (Click)",j="Licensing (Click)",U="Licensing (Triggered)",M="Licensing (Complete)",J="Contributor_Selection (Click)",N="Contributor_Follow (Click)",q="Content_Selection (Click)",H="Download (Click)",W="Download (Complete)",G="Filters-Hide (Click)",z="Filters-Applied (Click)",V="Pagination (Click)",K="Collection-Save (Click)",Y="Collection-Save (Complete)",Z="Collection-Remove (Complete)",Q="Collection-Created (Complete)",X="Form (Focus)",$="Form (Complete)",tt="Form (Error)",nt="Partner-Infinite_Scroll (Triggered)",et="Partner-Infinite_Scroll (Click)",rt="Partner-Gray_Box (Triggered)",ot="Partner-Gray_Box (Click)",ut="Partner-Popup (Triggered)",it="Notifications (Click)",ct="Notifications (Complete)",at="Show_Modal-Open (Click)",lt="Show_Modal-Close (Click)",dt="Show_Modal-Next (Click)",ft="Show_Modal-Previous (Click)",st="Cancellation (Click)",bt="Cancellation-Pause (Triggered)",pt="Cancellation-Pause (Complete)",gt="Cancellation (Complete)",Ct="Cancellation-Deal (Triggered)",mt="Cancellation-Deal (Complete)",wt="Multiple Login (Triggered)",vt="Multiple Login (Complete)",_t="Reactivation-Banner (Triggered)",ht="Reactivation-Banner (Complete)",yt="Reactivation-Popup (Triggered)",kt="Reactivation-Popup (Click)",St="Reactivation-Popup (Error)",Pt="Reactivation-Popup (Complete)",Tt="Rebuy (Click)",Et="Rebuy-Upgrade (Click)",Lt="Rebuy-Upgrade (Error)",It="Rebuy-Upgrade (Complete)",Dt="Rebuy-Popup (Click)",Rt="Rebuy-Popup (Error)",Bt="Rebuy-Popup (Complete)",Ft="Upgrade-Banner (Triggered)",xt="Upgrade-Banner (Complete)",Ot="Upgrade-Popup (Triggered)",At="Upgrade-Popup (Click)",jt="Upgrade-Popup (Error)",Ut="Upgrade-Popup (Refund Error)",Mt="Upgrade-Popup (Complete)",Jt="Cancellation-Bundles (Triggered)",Nt="Cancellation-Bundles (Complete)",qt="Bundles-Toast (Click)",Ht="Reviews (Triggered)",Wt="Reviews (Yes)",Gt="Reviews (No)",zt="Book-Demo (Click)",Vt="Search-Infinite-Page (Triggered)",Kt="Menu-Bundles (Click)",Yt="Menu-Photo (Click)",Zt="Menu-Vector (Click)",Qt="Menu-Video (Click)",Xt="Start New (Click)",$t="Template (Click)",tn="Custom_Design (Triggered)",nn="Custom_Design-Popup (Click)",en="Custom_Design-Popup (Complete)",rn="Search-Image (Click)",on="Search-Image (Complete)",un="Search-Image (Error)",cn="Homepage_Banner (Triggered)",an="Homepage_Banner (Complete)",ln="Referral-Email (Click)",dn="Cart_Abandon-Banner (Triggered)",fn="Cart_Abandon-Banner (Complete)"}}]);
//# sourceMappingURL=follow-button-controller-ddb931efe23a7df821a7.chunk.js.map