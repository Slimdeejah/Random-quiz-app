(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1193:function(e,t,i){},1351:function(e,t,i){"use strict";i.r(t);i(1193);var r=i(4),o=i(11),n=i(44),a=i(2),s=i(66),u=i(6),p=i(8);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=d(e);if(t){var o=d(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return g(this,i)}}function g(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=new n.a,f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,e);var t,i,r,o=v(n);function n(){var e;c(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=o.call.apply(o,[this].concat(i))).setupForZoom=function(){m.addMediaQuery("(min-width: 1101px)",(function(){e.canZoom&&e.addZoom()}),(function(){e.removeZoom()}))},e.toggleZoom=function(t){t.stopPropagation(),"touchend"!==t.type?e.canZoom&&(e.zoomed?(e.zoomOut(),e.removeZoomListeners(e.previewOuterWrapTarget),e.addZoomListeners(e.img)):(e.zoomIn(t),e.removeZoomListeners(e.img),e.addZoomListeners(e.previewOuterWrapTarget))):t.preventDefault()},e.zoomIn=function(t){e.zoomedOnce||e.switchToZoomImg(),e.previewOuterWrapTarget.classList.add("is-zooming"),setTimeout((function(){e.previewOuterWrapTarget.classList.add("is-zoomed"),e.previewOuterWrapTarget.classList.remove("is-zooming")}),300),e.getPointerPos(t),e.updateZoomPosition(),e.zoomed=!0,e.previewInnerWrapTarget.addEventListener("mousemove",e.zoomMove),Object(u.k)({element:t.currentTarget,data:{action:p.lc,label:Object(s.a)(),content_type:"Content-".concat(Object(a.g)())}})},e.zoomMove=function(t){e.getPointerPos(t),e.updateZoomPosition()},e.setTranslate=function(t,i,r){r.style.transform="scale(".concat(e.zoomScale,") translate3d(").concat(t,"%, ").concat(i,"%, 0px)")},e.resizePreview=function(){new Promise((function(t){return e.setPreviewMaxHeight(t)})).then((function(){return e.setPreviewWidth()}))},e}return t=n,(i=[{key:"connect",value:function(){if("video"===this.previewContentType)return this.flagLoaded(),void this.setVideoAspectRatio();this.img=this.previewImageTarget,this.maxPreviewHeight=560,window.addEventListener("PreviewImageChanged",this.resizePreview),window.addEventListener("resize",this.resizePreview),this.upgrade2x(),this.previewOuterWrapTarget.addEventListener("contextmenu",this.preventRightClick),this.setupForZoom(),this.canZoom&&m.evaluateAll(),this.resizePreview(),m.addListeners(),this.flagLoaded()}},{key:"disconnect",value:function(){"video"!==this.previewContentType&&(this.previewOuterWrapTarget.removeEventListener("contextmenu",this.preventRightClick),window.removeEventListener("resize",this.resizePreview),m.removeListeners(),m.clearQueries(),this.canZoom&&(this.removeZoomListeners(this.previewOuterWrapTarget),this.removeZoomListeners(this.img)))}},{key:"setVideoAspectRatio",value:function(){var e=this,t=0,i=setInterval((function(){if(e.previewVideoWrapTarget.querySelector(".plyr__video-wrapper")){var r=parseFloat(e.previewVideoWrapTarget.getAttribute("data-aspect-ratio")),o=e.previewVideoWrapTarget.querySelector(".plyr__video-wrapper"),n=100*r;if(n<56.25){var a=e.previewVideoWrapTarget.querySelector('[data-video-player-target="player"]');o.style.paddingTop="".concat(n,"%"),a.style.height="100%"}clearInterval(i)}else 100===(t+=1)&&clearInterval(i)}),100)}},{key:"canZoom",get:function(){return!(Object(a.l)()<=1100)&&this.previewOuterWrapTarget.hasAttribute("data-zoomable")}},{key:"previewContentType",get:function(){return this.previewOuterWrapTarget.getAttribute("data-resource-show-preview-content-type")}},{key:"preventRightClick",value:function(e){e.preventDefault()}},{key:"addZoom",value:function(){this.zoomScale=this.previewOuterWrapTarget.getAttribute("data-zoom-scale"),this.previewOuterWrapTarget.classList.add("is-zoomable"),this.addZoomListeners(this.img)}},{key:"removeZoom",value:function(){this.zoomOut(),this.previewOuterWrapTarget.classList.remove("is-zoomable"),this.removeZoomListeners(this.previewOuterWrapTarget),this.removeZoomListeners(this.img)}},{key:"addZoomListeners",value:function(e){e.addEventListener("click",this.toggleZoom),e.addEventListener("touchend",this.toggleZoom)}},{key:"removeZoomListeners",value:function(e){e.removeEventListener("click",this.toggleZoom),e.removeEventListener("touchend",this.toggleZoom)}},{key:"switchToZoomImg",value:function(){this.img.setAttribute("src",this.img.getAttribute("data-zoom-src")),this.img.removeAttribute("srcset"),this.img.removeAttribute("sizes"),this.zoomedOnce=!0}},{key:"zoomOut",value:function(){this.previewOuterWrapTarget.classList.contains("is-zoomed")&&(this.img.style.transform="",this.previewOuterWrapTarget.classList.remove("is-zoomed"),this.zoomed=!1,this.previewInnerWrapTarget.removeEventListener("mousemove",this.zoomMove))}},{key:"updateZoomPosition",value:function(){var e=this.img.width,t=this.img.height,i=t/2,r=(e/2-this.pointerPositionX)/e*100,o=(i-this.pointerPositionY)/t*100;this.setTranslate(r,o,this.img)}},{key:"getPointerPos",value:function(e){this.pointerPositionX=e.clientX||this.pointerPositionX,this.pointerPositionY=e.clientY||this.pointerPositionY;var t=this.previewInnerWrapTarget.getBoundingClientRect();this.pointerPositionX-=t.left,this.pointerPositionY-=t.top}},{key:"upgrade2x",value:function(){if(1===window.devicePixelRatio&&(this.previewImageTarget.width>Math.floor(this.previewOuterWrapTarget.dataset.originalWidth/2)||this.previewImageTarget.height>Math.floor(this.previewOuterWrapTarget.dataset.originalHeight/2))){var e=this.previewImageTarget.getAttribute("srcset"),t=e.indexOf(" "),i=e.substring(0,t);this.previewImageTarget.setAttribute("srcset","".concat(i," 1x"))}}},{key:"setPreviewWidth",value:function(){if(this.previewInnerWrapTarget.style.width="100%",!(Object(a.l)()<=600)){var e=window.getComputedStyle(this.previewOuterWrapTarget),t=parseInt(e.paddingTop,10),i=parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10);this.previewWidth=parseInt(this.previewOuterWrapTarget.dataset.originalWidth,10),this.previewHeight=parseInt(this.previewOuterWrapTarget.dataset.originalHeight,10);var r=this.previewOuterWrapTarget.clientWidth-i,o=(this.previewOuterWrapTarget.clientHeight-t)*this.previewWidth/this.previewHeight/r*100;this.previewInnerWrapTarget.style.width="".concat(o,"%")}}},{key:"setPreviewMaxHeight",value:function(e){if(Object(a.l)()>1101){var t=window.getComputedStyle(this.previewOuterWrapTarget);this.img.height>=this.maxPreviewHeight?this.previewOuterWrapTarget.style.height="".concat(this.maxPreviewHeight,"px"):parseInt(t.maxHeight,10)<this.maxPreviewHeight&&(this.previewOuterWrapTarget.style.height=null)}else this.previewOuterWrapTarget.style.height=null;e()}},{key:"sendEditorButtonEvent",value:function(e){e.stopPropagation(),Object(u.k)({element:e.currentTarget,data:{action:p.E,label:Object(s.a)(),content_type:"Content-".concat(Object(a.g)())}})}}])&&h(t.prototype,i),r&&h(t,r),n}(o.a);f.targets=["previewImage","previewWrap","previewInnerWrap","previewOuterWrap","previewVideoWrap"],i.e(44).then(i.bind(null,388)),r.default.register("resource-show-preview",f),i.e(201).then(i.bind(null,1500)).then((function(e){r.default.register("pinterest-share",e.default)})),Promise.all([i.e(12),i.e(17),i.e(205)]).then(i.bind(null,1501)).then((function(e){r.default.register("pricing-modal",e.default)})),Promise.all([i.e(23),i.e(35)]).then(i.bind(null,136)).then((function(e){r.default.register("pricing-plan-block",e.default)}))}}]);
//# sourceMappingURL=82-b72c3b8fe4d337c4f26d.chunk.js.map