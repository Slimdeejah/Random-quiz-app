(window.webpackJsonp=window.webpackJsonp||[]).push([[132,5,6,12,13,17,194],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(13);class r extends o.b{flagLoaded(){this.element.setAttribute("data-loaded","true")}get csrfToken(){return document.querySelector("meta[name=csrf-token]")?document.querySelector("meta[name=csrf-token]").content:null}get csrfParam(){return document.querySelector("meta[name=csrf-param]")?document.querySelector("meta[name=csrf-param]").content:null}}},14:function(e,t,n){"use strict";t.a={collections:{search_collections:"collections:search_collections"},download_btn:{initial_click:"download_btn:initial_click"},editor:{command:"commandexec",load:"editor:load"},modal:{close_modal:"modal:close_modal"},search:{apply_filters:"search:apply_filters",click:"search:click",sponsored_click:"search:sponsored_click",update_content_type:"search:update_content_type"},show_page:{modal:{build_resource_navigation_context:"show_page:modal:build_resource_navigation_context",history_close_modal_view:"show_page:modal:history_close_modal_view",reload_modal_view:"show_page:modal:reload_modal_view",update_resource_navigation_context:"show_page:modal:update_resource_navigation_context"},reveal_free_attribution_slidedown:"show_page:reveal_free_attribution_slidedown"},turbolinks:{load:"turbolinks:load"},checkout:{error:"checkout:error",new_tax_response:"checkout:new_tax_response",reset_tax:"checkout:reset_tax"},util:{ez_drop_down:{close_drop_down:"util:ez_drop_down:close_drop_down"}}}},1465:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var o=n(43),r=n(14),i=n(2),c=n(150),a=n(1427),s=n.n(a),l=n(16);function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return(p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(d,e);var t,n,o,a=_(d);function d(){var e;f(this,d);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).closeCollectionsModal=function(t){e.triggerClose(t)},e.searchCollections=function(t){Object(c.b)(t.target.value).length?e.saveButtonTarget.classList.remove("is-disabled"):e.saveButtonTarget.classList.add("is-disabled"),e.filterCollections(Object(c.b)(t.target.value))},e}return t=d,(n=[{key:"connect",value:function(){p(b(d.prototype),"connect",this).call(this),this.compileCollectionsList(),this.requestOtherCollections(),this.searchForm=document.querySelector('[data-controller="collections-search-form"]'),this.searchForm.addEventListener(r.a.collections.search_collections,this.searchCollections),window.addEventListener("CloseCollectionModal",this.closeCollectionsModal)}},{key:"disconnect",value:function(){this.searchForm.removeEventListener(r.a.collections.search_collections,this.searchCollections),window.removeEventListener("CloseCollectionModal",this.closeCollectionsModal),p(b(d.prototype),"disconnect",this).call(this)}},{key:"compileCollectionsList",value:function(){this.collections=document.getElementsByClassName("collections-list__item__name"),this.collectionsListArr=u(this.collections).map((function(e){return Object(c.b)(e.textContent)||Object(c.b)(e.innerText)})),this.fuzzySearch=s()(this.collectionsListArr,!1)}},{key:"filterCollections",value:function(e){var t=this,n=this.fuzzySearch.get(e,null,.2);Object(i.L)(this.collectionsListItemTargets,"show","flex"),e&&Object(i.L)(this.collectionsListItemTargets,"hide"),n&&n.forEach((function(e){var n=Object(c.b)(e[1]),o=t.collectionsListTarget.querySelectorAll('[data-collection-name*="'.concat(n,'"]'));o&&Object(i.L)(o,"show","flex")}))}},{key:"requestOtherCollections",value:function(){var e=this;this.collections.length<this.initialModalLoadValue||(this.collectionsListTarget.insertAdjacentHTML("beforeend",'<div class="ez-spinner ez-spinner--sm"></div>'),Object(l.b)("/account/request_more_collections",(function(t){e.collectionsListTarget.querySelector(".ez-spinner").remove(),e.collectionsListTarget.insertAdjacentHTML("beforeend",t.data),e.compileCollectionsList(),Object(i.Q)(r.a.collections.search_collections,{},document.querySelector(".collections-search-form"))}),(function(e){console.error(e)}),{params:{offset:!0,resource_id:this.element.querySelector("#collection_resource_id").value}}))}}])&&h(t.prototype,n),o&&h(t,o),d}(o.default);v.targets=["collectionsList","collectionsListItem","saveButton"],v.values={initialModalLoad:Number}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n(2);function r(){return document.querySelector('[data-target="search-results-main-wrap"]').getAttribute("data-no-results")}function i(e){return Object(o.R)(e).toLowerCase().replace(/[^a-zA-Z0-9 ]/g,"")}},16:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ajaxGet})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ajaxPost})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ajaxPatch})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ajaxDelete})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getAjaxModal})),__webpack_require__.d(__webpack_exports__,"f",(function(){return insertAjaxContent}));var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(28),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);const getCSRFToken=()=>{const e=document.querySelector("meta[name=csrf-token]");return e instanceof HTMLMetaElement?e.content:null};function ajaxGet(e,t=(e=>{}),n=(e=>{console.error(e)}),{params:o=null,data:r=null}={},i={}){const c=i.headers||{"X-CSRF-Token":getCSRFToken(),"X-Requested-With":"XMLHttpRequest",Accept:"application/javascript"};return delete i.headers,axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"get",url:e,data:r,params:o,headers:c,...i}).then(e=>{t(e)}).catch(e=>{n(e)})}function ajaxPost(e,t=(e=>{}),n=(e=>{console.error(e)}),o=null){const r={"X-CSRF-Token":getCSRFToken(),"X-Requested-With":"XMLHttpRequest",Accept:"application/javascript"};return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"post",url:e,data:o,headers:r}).then(e=>{t(e)}).catch(e=>{n(e)})}function ajaxPatch(e,t=(e=>{}),n=(e=>{console.error(e)}),o=null,r=null){const i={"X-CSRF-Token":getCSRFToken(),"X-Requested-With":"XMLHttpRequest",Accept:"application/javascript",Authorization:r?"Bearer "+r:""};return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"patch",url:e,data:o,headers:i}).then(e=>{t(e)}).catch(e=>{n(e)})}function ajaxDelete(e,t=(e=>{}),n=(e=>{console.error(e)}),o){const r={"X-CSRF-Token":getCSRFToken(),"X-Requested-With":"XMLHttpRequest",Accept:"application/javascript",Authorization:o?"Bearer "+o:""};return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"delete",url:e,headers:r}).then(e=>{t(e)}).catch(e=>{n(e)})}function getAjaxModal(modalPath,successCb=(()=>{}),errorCb=(e=>{console.error(e)}),data=null,params=null){const success=successCb||(()=>{}),defaultErrorCb=e=>{console.error(e)};ajaxGet(modalPath,response=>{eval(response.data),success()},errorCb||defaultErrorCb,{params:params,data:data})}function insertAjaxContent({url:e,destElem:t,destPos:n="beforeend",successCb:o=(e=>{}),errorCb:r=(e=>{console.error(e)}),params:i=null,replaceContent:c=!1}){const a={headers:{"X-CSRF-Token":getCSRFToken(),"X-Requested-With":"XMLHttpRequest",Accept:"application/javascript"}};axios__WEBPACK_IMPORTED_MODULE_0___default.a.get(e,{params:i,...a}).then(e=>{c?t.innerHTML=e.data:t.insertAdjacentHTML(n,e.data)}).then(e=>{o(e)}).catch(e=>{r(e)})}},2:function(e,t,n){"use strict";n.d(t,"o",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"F",(function(){return m})),n.d(t,"q",(function(){return _})),n.d(t,"K",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"r",(function(){return v})),n.d(t,"I",(function(){return g})),n.d(t,"J",(function(){return w})),n.d(t,"p",(function(){return C})),n.d(t,"t",(function(){return O})),n.d(t,"s",(function(){return L})),n.d(t,"d",(function(){return k})),n.d(t,"i",(function(){return E})),n.d(t,"C",(function(){return x})),n.d(t,"Q",(function(){return A})),n.d(t,"w",(function(){return T})),n.d(t,"G",(function(){return M})),n.d(t,"E",(function(){return j})),n.d(t,"N",(function(){return S})),n.d(t,"A",(function(){return P})),n.d(t,"R",(function(){return R})),n.d(t,"T",(function(){return q})),n.d(t,"L",(function(){return D})),n.d(t,"e",(function(){return I})),n.d(t,"O",(function(){return z})),n.d(t,"u",(function(){return F})),n.d(t,"H",(function(){return H})),n.d(t,"h",(function(){return B})),n.d(t,"D",(function(){return W})),n.d(t,"y",(function(){return $})),n.d(t,"B",(function(){return N})),n.d(t,"M",(function(){return U})),n.d(t,"m",(function(){return X})),n.d(t,"b",(function(){return K})),n.d(t,"z",(function(){return J})),n.d(t,"S",(function(){return G})),n.d(t,"j",(function(){return Q})),n.d(t,"x",(function(){return V})),n.d(t,"P",(function(){return Z})),n.d(t,"n",(function(){return Y})),n.d(t,"v",(function(){return ee}));var o=n(301),r=n.n(o),i=n(9),c=n.n(i),a=n(41);const s={production:["production"],dev:["development","test"],staging:["staging"],test:["test"]};function l(e){return s[e].includes(document.body.dataset.env)}function u(e,t){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e.apply(this,o),t)}}function d(){return c.a.get("content_type")||"vector"}function f(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function h(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function p(e,t,n){const o=!!r.a.passiveEvents&&{passive:!0};t.split(" ").forEach(t=>{e.addEventListener(t,n,o)})}function m(e,t,n){t.split(" ").forEach(t=>{e.removeEventListener(t,n,!1)})}function _(){return navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")}function y(){return!!window.Cypress}function b(){const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}function v(e,t=!1){const n=e.getBoundingClientRect(),o=n.top,r=n.bottom;let i=o>=0&&r<=window.innerHeight;return t&&(i=o<window.innerHeight&&r>=0),i}function g({selector:e,offset:t=0,behavior:n="auto"}){const o=document.querySelector(e).offsetTop;let r=o-t;return new Promise((e,i)=>{let c;const a=setTimeout(()=>{window.removeEventListener("scroll",c),i(new Error("Never reached scroll position!"))},2e3);c=n=>{if("undefined"===typeof n)return;const i=document.documentElement,s=(window.pageYOffset||i.scrollTop)-(i.clientTop||0);r=o-t,s>=r&&(window.removeEventListener("scroll",c),clearTimeout(a),e())},window.addEventListener("scroll",c),window.scrollTo({top:r,behavior:n})})}function w(e,t=0){const n=document.querySelector(e),o=(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight;return n.offsetTop+(n.offsetHeight-t)<=o}function C(){const e=document.body.classList;return e.contains("photos-home_photos")||e.contains("vectors-home_vectors")||e.contains("home-home_vectors")||e.contains("home-home_videos")||e.contains("videos-home_videos")}function O(){return document.body.classList.contains("searches-show")}function L(){return document.body.classList.contains("searches-show_by_image")}function k(e,t,n=(()=>{})){const o=e.style;o.opacity=1,function e(){o.opacity-=.1,o.opacity<0?(o.display="none",n()):setTimeout(e,t)}()}function E(e){let t=e.innerHTML;t=t.replace(/\D/g,"");return parseInt(t,10)||1}function x(e,t,n){const o=new CustomEvent(e,{detail:{dataHash:t,addPushState:n}});window.dispatchEvent(o)}function A(e,t={},n=window){const o=new CustomEvent(e,{detail:t});n.dispatchEvent(o)}function T(e,t=[]){let n=Object.keys(e).filter(e=>!t.includes(encodeURIComponent(e))).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&");return n.length&&(n="?"+n),n}function M(e,t){const n=window.location.href.split("?")[0];window.location=`${n}?${e}=${t}`}function j(e,t,n){const o=window.screen.availWidth/2-50,r=window.screen.availHeight/2-300,i=window.open("","PRINT",`height=700, width=1000, left=${o}, top=${r}`);return i.document.write(`<html><head><title>${t}</title>`),i.document.write('<style media="print">body { display: block!important; }</style>'),n&&i.document.write(n),i.document.write('</head><body style="display: none;">'),i.document.write(`<h1>${t}</h1>`),i.document.write(e.innerHTML),i.document.write("</body></html>"),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},400),!0}function S(e,t=window){setTimeout(()=>{t.scrollTo({top:e,behavior:"smooth"})},1)}function P(e,t){let n=e;return t.url&&(n=e.replace(/data-href="[^"]*"/g,`href="${t.url}"`)),t.src&&(n=e.replace(/data-src="[^"]*"/g,`src="${t.src}"`)),t.url&&t.src&&(n=e.replace(/data-href="[^"]*"/g,`href="${t.url}"`).replace(/data-src="[^"]*"/g,`src="${t.src}"`)),n.replace(/\{\{(\w+)\}\}/g,(e,n)=>t[n])}function R(e){return(e||"").replace(/^\s+|\s+$/g,"")}const q=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi;function D(e,t,n="block"){const o="show"===t?n:"none";e.forEach(e=>{e.style.display=o})}function I(e){const t=e.replace(/-/g,"_");return a.a.enabledFlags.includes(t)}function z(e){const t=e.replace(/-/g,"_");return a.a.splitTestName===t&&"test"===a.a.splitTestVariant}function F(){return document.body.classList.contains("is-logged-in")}function H(e,t,n="."){return(Array.isArray(e)?e:e.split(n)).reduce((e,t)=>e&&e[t],t)}function B(e=null){let t;if(e){const n=window.location.href;t=new URL(e,n).searchParams}else{const e=window.location.search.slice(1);t=new URLSearchParams(e)}return t.has("page")?t.get("page"):null}function W(e,t){const n={post_login_cookie_name:e,post_login_cookie_value:t};c.a.set("primer_for_post_login_cookie",JSON.stringify(n))}function $(e){return("000000000"+e).substr(-2)}function N(e,t){const n=e===document.activeElement;t(),n&&e.focus()}function U(e){e.classList.add("is-loading")}function X(e){e.classList.remove("is-loading")}const K=e=>e&&e[0].toUpperCase()+e.slice(1),J=e=>{if(!e)return!1;const t=e.toString().toLowerCase();return!("0"===t||"false"===t)},G=e=>Math.round(e)!==e?e.toFixed(2):e.toString(),Q=(e,t,n=2)=>{if(0===t)return 0;return((e,t=2)=>{const n=10**t;return Math.round((e+Number.EPSILON)*n)/n})(e/t*100,n)},V=e=>{const t={};return Object.keys(e).forEach(n=>{if(Object.prototype.hasOwnProperty.call(e,n)){const o=n.replace(/([A-Z])/g,"_$1").toLowerCase();t[o]=e[n]}}),t},Z=({initialHeight:e,input:t})=>{t.scrollHeight<=e||(t.value?(t.style.height="1px",t.style.height=t.scrollHeight+"px"):t.style.height=e+"px")};window.EzPrefetchLinksCache=[];const Y=({src:e,asAttr:t=null,linkClass:n=null})=>{if(!window.EzPrefetchLinksCache.includes(e)){const o=document.createElement("link");o.setAttribute("rel","prefetch"),o.setAttribute("href",e),t&&o.setAttribute("as",t),n&&o.setAttribute("class",n),document.getElementsByTagName("head")[0].appendChild(o),window.EzPrefetchLinksCache.push(e)}},ee=e=>"mp4"===e.split(".").pop()||"webm"===e.split(".").pop()},41:function(e,t,n){"use strict";const o=new class{constructor(){this.userData=null,this.signedIn=!1,this.isPro=!1,this.authId=null,this.feedbackProvided=null,this.enabledFlags=[],this.splitTestName=null,this.splitTestVariant=null,this.parseData=()=>{this.userData=JSON.parse(document.body.dataset.userData),this.signedIn=this.userData.signedIn||!1,this.isPro=this.userData.isPro||!1,this.authId=this.userData.authId||null,this.feedbackProvided=this.userData.feedbackProvided||null,this.enabledFlags=this.userData.enabledFlags||[],[this.splitTestName,this.splitTestVariant]=this.userData.currentSplitTest.split(":")||[null,null]}}init(){this.parseData(),window.addEventListener("turbolinks:render",this.parseData)}modifyData(e){const t={...this.userData,...e};document.body.dataset.userData=JSON.stringify(t),this.parseData()}enableFlagForTest(e){this.modifyData({enabledFlags:[...this.enabledFlags,e]})}disableFlagForTest(e){this.modifyData({enabledFlags:this.enabledFlags.filter(t=>t!==e)})}};o.init();t.a=o},43:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var o=n(11),r=n(2),i=n(14);function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,n,o,a=d(f);function f(){var e;s(this,f);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).triggerClose=function(t){e.close(t)},e.allowEscClose=function(t){27===t.keyCode&&e.element===document.querySelector('.ez-modal[tabindex="-1"]')&&e.close(t)},e.detectHeightCutoff=function(){e.contentTarget.parentNode.offsetHeight>=document.documentElement.clientHeight?e.element.classList.add("is-too-tall"):e.element.classList.remove("is-too-tall")},e}return t=f,(n=[{key:"connect",value:function(){this.open(),window.addEventListener("resize",this.detectHeightCutoff),window.addEventListener("keyup",this.allowEscClose),window.addEventListener(i.a.modal.close_modal,this.triggerClose)}},{key:"disconnect",value:function(){window.removeEventListener("resize",this.detectHeightCutoff),window.removeEventListener("keyup",this.allowEscClose),window.removeEventListener(i.a.modal.close_modal,this.triggerClose)}},{key:"open",value:function(){document.body.classList.contains("has-active-modal")||document.body.classList.add("has-active-modal"),this.element.classList.add("is-active"),this.openModals=c(document.querySelectorAll(".ez-modal.is-active")),this.assignModalDepth(),this.normalizeOverlayOpacity(),this.element.hasAttribute("data-singled-out")&&this.hideShowOtherModals("hide"),this.resetModalFocus(),this.detectHeightCutoff(),this.element.setAttribute("data-opened","true")}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e&&!e.keyCode&&e.target!==e.currentTarget||(t(e),this.element.hasAttribute("data-disable-easy-close")||(this.element.classList.remove("is-active"),this.element.parentNode.removeChild(this.element),Object(r.Q)("ModalClosed",{},this.element),this.element.hasAttribute("data-singled-out")&&this.hideShowOtherModals("show"),this.openModals=c(document.querySelectorAll(".ez-modal.is-active")),this.highestModalIndex()>0&&(this.resetModalFocus(),this.normalizeOverlayOpacity()),n(e)),!document.querySelector(".ez-modal")&&document.body.classList.contains("has-active-modal")&&document.body.classList.remove("has-active-modal"))}},{key:"assignModalDepth",value:function(){this.element.setAttribute("data-modal-depth-index",this.highestModalIndex()+1)}},{key:"confirm",value:function(e){this.close(e),Object(r.Q)("ConfirmModalConfirm",{},e.target)}},{key:"deny",value:function(e){return this.close(e),!1}},{key:"hideShowOtherModals",value:function(e){var t=this;this.openModals.forEach((function(n){n===t.element||n.classList.contains("ez-modal--parent-modal")||("hide"===e?n.classList.add("is-hidden"):n.classList.remove("is-hidden"))}))}},{key:"highestModalIndex",value:function(){var e=[];return this.openModals.forEach((function(t){var n=parseInt(t.getAttribute("data-modal-depth-index"),10)||0;e.push(n)})),Math.max.apply(Math,e)}},{key:"normalizeOverlayOpacity",value:function(){document.querySelector(".ez-modal.is-top-modal")&&document.querySelector(".ez-modal.is-top-modal").classList.remove("is-top-modal"),document.querySelector(".ez-modal[data-modal-depth-index='".concat(this.highestModalIndex(),"']")).classList.add("is-top-modal")}},{key:"resetModalFocus",value:function(){document.querySelector('.ez-modal[tabindex="-1"]')&&document.querySelector('.ez-modal[tabindex="-1"]').removeAttribute("tabindex");var e=document.querySelector(".ez-modal[data-modal-depth-index='".concat(this.highestModalIndex(),"']"));e.setAttribute("tabindex",-1),e.focus()}}])&&l(t.prototype,n),o&&l(t,o),f}(o.a);p.targets=["content"]}}]);
//# sourceMappingURL=collections-modal-controller-5b84abfc10f11199e918.chunk.js.map