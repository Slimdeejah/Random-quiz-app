(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{221:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s(13);function l(e){var t;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];t&&cancelAnimationFrame(t),t=requestAnimationFrame((function(){e.apply(void 0,i)}))}}var o=s(21);const c=new(s(44).a);class n extends i.b{constructor(){super(...arguments),this.lastScrolledPosition=window.scrollY,this.isScrolled=!1,this.setupSticky=()=>{this.setupStickyMediaQueries(),this.initialState(),window.addEventListener("scroll",this.normalScrollCheck)},this.initialState=()=>{this.stickElement(),this.showElement(),this.isCloseToTop()&&this.hideStickyHeaderSearchBar(),window.addEventListener("scroll",this.dynamicScrollCheck)},this.disableDynamicSticky=()=>{this.stickElement(),this.showElement(),window.removeEventListener("scroll",this.dynamicScrollCheck)},this.isScrollingUp=()=>this.lastScrolledPosition>window.scrollY,this.isScrolledToTop=()=>window.scrollY<=0,this.isCloseToTop=(e=!1)=>{const t=this.element,s=e?50:0;return window.scrollY<=t.offsetHeight+s},this.hasScrolledPastLastStickyElement=()=>{const e=document.querySelectorAll('[data-controller*="dynamic-sticky"]'),t=Array.from(e).reduce((e,t)=>{const s=e.offsetTop+e.offsetHeight;return t.offsetTop+t.offsetHeight>s?t:e});return window.scrollY>t.clientHeight},this.showElement=()=>{this.element.classList.contains(this.isStickyClass)&&(this.element.classList.remove(this.hideElementClass),this.element.classList.add(this.showElementClass),this.mainSearchBar&&this.showStickyHeaderSearchBar(),this.applyStickyOffset())},this.hideElement=()=>{this.element.classList.remove(this.showElementClass),this.element.classList.add(this.hideElementClass),this.removeStickyOffset()},this.unstickElement=()=>{this.element.classList.remove(this.showElementClass),this.element.classList.remove(this.isStickyClass)},this.stickElement=()=>{this.element.classList.add(this.isStickyClass)},this.showStickyHeaderSearchBar=(e=!1)=>{this.isCloseToTop(!0)&&!e||(this.mainSearchBar.classList.add("is-visible"),this.searchField.disabled=!1)},this.applyStickyOffset=()=>{if(this.offsetElementSelectorValue){const e=document.querySelector(this.offsetElementSelectorValue);this.element.style.top=e.offsetHeight+"px"}},this.removeStickyOffset=()=>{this.element.style.top="0"},this.applyStickyHeader=()=>{this.isScrollingUp()?this.scrollingUpActions():this.scrollingDownActions(),this.lastScrolledPosition=window.scrollY},this.scrollingUpActions=()=>{this.showElement(),this.isScrolledToTop()&&this.unstickElement(),this.isCloseToTop()&&this.hideStickyHeaderSearchBar()},this.scrollingDownActions=()=>{this.hasScrolledPastLastStickyElement()&&(this.stickElement(),this.hideElement())},this.checkScroll=()=>{window.scrollY>this.scrollOffsetValue&&!1===this.isScrolled?(document.body.classList.add("is-scrolled"),this.isScrolled=!0):window.scrollY<=0&&!0===this.isScrolled&&(document.body.classList.remove("is-scrolled"),this.isScrolled=!1)},this.normalScrollCheck=l(this.checkScroll),this.dynamicScrollCheck=l(()=>{this.applyStickyHeader()})}connect(){this.waitToGetSticky()?window.addEventListener(o.m,this.setupSticky):this.setupSticky(),window.addEventListener("resize",this.applyStickyOffset)}disconnect(){window.removeEventListener(o.m,this.setupSticky),window.removeEventListener("resize",this.applyStickyOffset),window.removeEventListener("scroll",this.normalScrollCheck),window.removeEventListener("scroll",this.dynamicScrollCheck)}setupStickyMediaQueries(){c.addMediaQuery("(max-width: 635px)",()=>this.showStickyHeaderSearchBar(!0),this.initialState),c.evaluateAll(),c.addListeners()}hideStickyHeaderSearchBar(){!this.mobileSearchButtonVisible()&&document.body.classList.contains("main-search-soft-hidden")&&this.mainSearchBar&&(this.mainSearchBar.classList.remove("is-visible"),this.searchField.disabled=!0)}mobileSearchButtonVisible(){const e=document.querySelector('[data-action*="click->site-header#toggleMobileSearch"]');return!!e&&"none"!==getComputedStyle(e).display}waitToGetSticky(){return window.waitToGetSticky||this.waitToInitValue}get mainSearchBar(){return document.querySelector(".ez-site-header__search-fullwidth")}get searchField(){return this.mainSearchBar.querySelector(".ez-search-form__input")}}n.classes=["isSticky","showElement","hideElement"],n.values={mobileOnly:{type:Number,default:0},waitToInit:{type:Boolean,default:!1},offsetElementSelector:String,scrollOffset:{type:Number,default:0}}},412:function(e,t,s){"use strict";s(867)},867:function(e,t,s){}}]);
//# sourceMappingURL=48-e4629e4dd436b709cfd9.chunk.js.map